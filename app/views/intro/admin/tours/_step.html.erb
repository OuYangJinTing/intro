<% step  ||= {} %>
<% index ||= 0 %>
<% step_prefix ||= 'tour[options][steps][]'.freeze %>

<div class='intro-admin__step'>
  <div class='intro-admin__step-header'>
    <div class='title'><%= "#{t('intro.admin.component.step')}-#{index + 1}" %></div>
    <div class='actions'>
      <i class='intro-admin__step-remove'></i>
    </div>
  </div>

  <div class='intro-admin__step-content'>
    <div class='field'>
      <%= label_tag :component_title, t('intro.admin.component.title') %>
      <%= text_field_tag "#{step_prefix}[title]", step['title'], placeholder: t('intro.admin.placeholders.title') %>
    </div>

    <div class='field'>
      <%= label_tag :component_content, t('intro.admin.component.content') %>
      <%= text_area_tag "#{step_prefix}[title]", step['content'], placeholder: t('intro.admin.placeholders.content') %>
    </div>

    <div class='two fields'>
      <div class='field'>
        <%= label_tag :component_image_url, t('intro.admin.component.image_url') %>
        <%= text_field_tag "#{step_prefix}[image_url]", step['image_url'], placeholder: t('intro.admin.placeholders.image_url') %>
      </div>

      <div class='field'>
        <%= label_tag :component_image_placement do %>
          <%= t('intro.admin.component.image_placement') %>
          <i class='intro-admin__question' title="<%= t('intro.admin.tips.image_placement') %>"></i>
        <% end %>
        <%= select_tag "#{step_prefix}[image_placement]", options_for_select(t('intro.admin.component.image_placements').invert.to_a, (step['image_placement'] || 'top')) %>
      </div>
    </div>

    <div class='three fields'>
      <div class='field'>
        <%= label_tag :component_element, t('intro.admin.component.element') %>
        <%= text_field_tag "#{step_prefix}[element]", step['element'], placeholder: t('intro.admin.placeholders.element') %>
      </div>

      <div class='field'>
        <%= label_tag :component_placement do %>
          <%= t('intro.admin.component.placement') %>
          <i class='intro-admin__question' title="<%= t('intro.admin.tips.placement') %>"></i>
        <% end %>
        <%= select_tag "#{step_prefix}[placement]", options_for_select(t('intro.admin.component.placements').invert.to_a, (step['placement'] || 'top')) %>
      </div>

      <div class='field'>
        <%= label_tag :component_zindex, 'Z-Index' %>
        <%= number_field_tag "#{step_prefix}[z_index]", step['z_index'] || 99, placeholder: t('intro.admin.placeholders.zindex') %>
      </div>
    </div>

    <div class='field'>
      <div class='checkbox intro-admin__checkbox'>
        <%= check_box_tag "#{step_prefix}[fixed_placement]", 1, step['fixed_placement'] %>
        <%= label_tag "#{step_prefix}[fixed_placement]", t('intro.admin.placeholders.fixed_placement'), title: t('intro.admin.tips.fixed_placement') %>
      </div>
    </div>
  </div>
</div>